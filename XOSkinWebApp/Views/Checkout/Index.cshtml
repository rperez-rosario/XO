@model List<ShoppingCartLineItemViewModel>
@{ decimal? total = 0.00M; }

@{
  ViewData["Title"] = "Checkout";
}

<div class="text-center">
  <h1 class="display-4">Place Your <br />Order</h1>
  @Html.Raw(ViewData["Checkout.WelcomeText"])
</div>
@if (Model.Count == 0)
{
  <br />
  <div class="text-center">
    @Html.Raw("Your shopping cart is currently empty. Go <a href=/TopSellers />add some items</a>.")
  </div>
}
else
{
  <br />
  <div class="container-fluid">
    <div class="row" style="width: 100%; margin-left: auto; margin-right: auto">
      <div class="col-sm-4">
        <h4>Billing Address</h4>
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
          <label class="control-label">Name on Credit Card</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Address Line 1</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Address Line 2</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">City</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">State</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Country</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Postal Code</label>
          <input class="form-control" />
        </div>
      </div>
      <div class="col-sm-4" style="padding-left: 10px; padding-right: 10px">
        <h4>Shipping Address, Same? <input type="checkbox"/></h4>
        <div class="form-group">
          <label class="control-label">Recipient's Name</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Address Line 1</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Address Line 2</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">City</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">State</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Country</label>
          <input class="form-control" />
        </div>
        <div class="form-group">
          <label class="control-label">Postal Code</label>
          <input class="form-control" />
        </div>
      </div>
      <div class="col-sm-4">
        <h4>Credit Card</h4>
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group">
          <label class="control-label">Credit Card Number</label>
          <input class="form-control" type="password" />
        </div>
        <div class="form-group">
          <label class="control-label">CVC</label>
          <input class="form-control" type="password" />
        </div>
        <div class="form-group">
          <label class="control-label">Expiration Date</label>
          <input class="form-control" type="date" />
        </div>
      </div>
    </div>
  </div>
  <table class="table table-responsive" id="ShoppingCart" style="margin-left: auto; margin-right: auto">
    <thead>
      <tr>
        <th></th>
        <th class="text-nowrap">Product Name</th>
        <th>Description</th>
        <th>Quantity</th>
        <th class="text-nowrap">Sub-Total</th>
      </tr>
    </thead>
    <tbody>
      @foreach (ShoppingCartLineItemViewModel lineItem in Model)
      {
        <tr>
          <td><img src="@lineItem.ImageSource" style="height: 150px; display: inline; float: left" /></td>
          <td style="font-weight: bold">@Html.DisplayFor(modelItem => lineItem.ProductName)</td>
          <td>@Html.DisplayFor(modelItem => lineItem.ProductDescription)</td>
          <td style="width: 170px">
            <div style="display: inline; float: left">
              @lineItem.Quantity
            </div>
          </td>
          <td>@Html.DisplayFor(modelItem => lineItem.Total)</td>
        </tr>
        total += lineItem.Total;
      }
    </tbody>
  </table>
  <div style="font-weight: bold; text-align: right; margin-right: 40px">Sub-Total: $@Html.Raw(total.ToString())</div>
  <div style="font-weight: bold; text-align: right; margin-right: 40px">Taxes: $0.00</div>
  <div style="font-weight: bold; text-align: right; margin-right: 40px">Shipping: $0.00</div>
  <div style="font-weight: bold; text-align: right; margin-right: 40px">Total: $@Html.Raw(total.ToString())</div>
  <br />
  <div style="text-align: right; margin-right: 40px">
    <a class="btn-outline-dark btn" asp-area="" asp-controller="Orders" asp-action="Place">Place Order</a>
  </div>
  <script type="text/javascript">
    $(document).ready(function () {
      var table = $('#ShoppingCart').DataTable({
        paging: false,
        searching: false,
        sort: false,
        bInfo: false
      });

      new $.fn.dataTable.Responsive(table, {
        details: true
      });
    });
  </script>
}
